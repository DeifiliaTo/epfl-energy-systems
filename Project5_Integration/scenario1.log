SNOPT 7.5-1.2 : major_iterations=10000
ignoring integrality of 75 variables
SNOPT 7.5-1.2 : Optimal solution found.
4065 iterations, objective 39921.97679
Nonlin evals: obj = 607, grad = 606, constrs = 607, Jac = 606.
Edemand [*] :=
1  12237.1
2  12237.1
3  12237.1
4  12237.1
5   2646.4
;

Qheating [*,*]
:         1           2           3            4           6        :=
AA     2851.88    2780.58     1207.35      969.169      4509.7
AI     3190.73    3131.68        0         523.128      6211.33
BC     1539.72    1512.53        0         273.703      2923.34
BI      272.84     267.091       0          31.3329      557.679
BM     2177.61    2134.01        0         408.809      4121.38
BP      746.685    733.003       0         147.305      1382.93
BS     1627.08    1601.22      156.512     505.349      2610.27
CE     3060.17    2985.82     1250.99     1049.72       4813.94
CH     2907.18    2853.8         0         258.291      6117.18
CM      975.389    955.272       0         125.033      1956.61
CO      531.966    521.782       0          25.6128     1154.86
CRPP    721.778    708.05        0           0          1681.39
DIA     125.378    123.587      11.9562     41.8779      193.488
EL     1173.45    1157.52        0         121.965      2379.52
GC     2051.53    2014.48        0         391.211      3832.08
GR      411.598    398.643      56.0567     41.0322      868.129
IN     1562.2     1530.73        0         251.163      3029.32
MA     1467.12    1427.46        0           0          4110.62
ME      512.056    491.531       0           0          1818.67
MX     1671.82    1651.78        0          36.5923     3697.55
ODY     515.963    506.154     127.119     175.297       799.736
PH     1761.33    1740.58        0           0          4431.79
PO       44.29      43.3786      0           0.499354    100.782
TCV     110.546    102.196       0           0           869.385
;

Qheatingdemand :=
LowT    1   19103.2
LowT    2   18729.7
LowT    3    1502.94
LowT    4    3480.47
LowT    6   37483.7
MediumT 1   12907.1
MediumT 2   12643.1
MediumT 3    1307.05
MediumT 4    1896.62
MediumT 6   26688
;

Qheatingsupply [*] :=
    Boiler    500
     Cogen   2800.11
Geothermal  10000
HP1stageLT   1000
HP1stageMT   1000
  HP2stage   1000
      SOFC     30
;

mult [*] :=
       Cogen   22.9102
 ElecGridBuy   10.255
ElecGridSell   45.8102
    HP2stage    0.0207233
  NatGasGrid  126.027
          PV   -1.42583e-16
;

mult_t [*,*]
:                   1              2              3              4          :=
Cogen          11.4318        11.2042         0.996128       1.92032
ElecGridBuy     1.12021e-18   -1.64679e-18   10.255          8.39647
ElecGridSell   10.6265        10.1712         2.44601e-18   -1.56538e-16
Geothermal     -1.16121e-32    0              5.27262e-30   -1.03937e-29
HP1stageLT      0              2.92975e-27    0             -1.46679e-27
HP1stageMT      2.04357e-27   -6.85907e-15    0              0
HP2stage        1.01768e-17   -3.05586e-27    0.0207233      0
NatGasGrid     62.8639        61.6121         5.47774       10.5599
PV             -2.7569e-17    -5.72661e-17   -2.93845e-16   -1.20699e-16

:                   5               6          :=
Cogen           0              22.9102
ElecGridBuy     2.6464          1.93222e-15
ElecGridSell    1.98664e-19    45.8102
Geothermal      0               1.10186e-28
HP1stageLT      0               1.75602e-26
HP1stageMT      0               7.65827e-14
HP2stage        2.50336e-23     0.0207233
NatGasGrid      0             125.984
PV             -1.2767e-16      0
;

Flowin :=
Biogas      SOFC            109.729
Electricity ElecGridSell   1000
Electricity HP2stage        490.323
Natgas      Boiler          555.556
Natgas      Cogen          5499.04
;

Flowout :=
Electricity Cogen         2000
Electricity ElecGridBuy   1000
Electricity Geothermal    4800
Electricity PV             100
Electricity SOFC            58
Natgas      NatGasGrid    1000
;

FlowInUnit [Biogas,*,*]
 [Electricity,*,*]
:                     1                 2               3              4     :=
ElecGridSell   10626.5           10171.2            3.67576e-15    0
HP1stageLT         0                 6.89217e-23   -5.50268e-25   -2.68226e-25
HP1stageMT        -1.31071e-12       3.29832e-12   -2.31328e-13    4.32648e-12
HP2stage           4.03727e-12       5.14656e-12   10.1611        -6.48972e-12

:                   5               6           :=
ElecGridSell   0             45810.2
HP1stageLT     1.50187e-24       4.00182e-24
HP1stageMT     3.71237e-12       0
HP2stage       0                10.1611

 [Natgas,*,*]
:                 1         2         3         4        6       :=
Cogen          62863.9   61612.1   5477.74   10559.9   125984
;

FlowOutUnit [Biogas,*,*]
 [Electricity,*,*]
:                     1                 2                 3           :=
Cogen          22863.6           22408.3            1992.26
ElecGridBuy        1.32348e-15       0             10255
Geothermal         0                 0                 2.40682e-26
PV                 9.43219e-15      -1.27517e-14      -4.12881e-14

:                    4                5             6       :=
Cogen          3840.63             0             45820.3
ElecGridBuy    8396.47          2646.4               0
Geothermal       -2.38358e-26      0                 0
PV               -6.80535e-15     -1.49365e-14       0

 [Natgas,*,*]
:                 1         2         3         4        6       :=
NatGasGrid     62863.9   61612.1   5477.74   10559.9   125984
;

set Buildings :=
GC     GR     CH     CO     TCV    ME     PO     BM
CE     CM     PH     BP     IN     AA     CRPP   DIA
MA     BI     BC     BS     ODY    EL     MX     AI;

InvCost = 39922

OpCost = 14583400

use [*] :=
       Cogen  0.101823
 ElecGridBuy  0.010255
ElecGridSell  0.0458102
    HP2stage  0.000414466
  NatGasGrid  0.126027
;

Tlmc_HP1stageMT [*] :=
1  279.497
2  280.497
3  282.497
4  284.497
5  285.497
6  276.497
;

CO2 = 25013500

heat_recovery :=
DC      1      3.68776
DC      2      7.62375
DC      3      7.60068
DC      4      7.60867
DC      5      0.196558
DC      6      7.62515
Vent    1      0.548536
Vent    2      0.536182
Vent    3      0.26335
Vent    4      0.222045
Vent    5      0.131543
Vent    6      0.794143
Vent_HP 1   1397.96
Vent_HP 2   1369.2
Vent_HP 3    757.489
Vent_HP 4    638.682
Vent_HP 5    428.859
Vent_HP 6   1957.77
;

use_recovery [*] :=
;

mult_t [*,*]
:                   1              2              3              4          :=
Cogen          11.4318        11.2042         0.996128       1.92032
ElecGridBuy     1.12021e-18   -1.64679e-18   10.255          8.39647
ElecGridSell   10.6265        10.1712         2.44601e-18   -1.56538e-16
Geothermal     -1.16121e-32    0              5.27262e-30   -1.03937e-29
HP1stageLT      0              2.92975e-27    0             -1.46679e-27
HP1stageMT      2.04357e-27   -6.85907e-15    0              0
HP2stage        1.01768e-17   -3.05586e-27    0.0207233      0
NatGasGrid     62.8639        61.6121         5.47774       10.5599
PV             -2.7569e-17    -5.72661e-17   -2.93845e-16   -1.20699e-16

:                   5               6          :=
Cogen           0              22.9102
ElecGridBuy     2.6464          1.93222e-15
ElecGridSell    1.98664e-19    45.8102
Geothermal      0               1.10186e-28
HP1stageLT      0               1.75602e-26
HP1stageMT      0               7.65827e-14
HP2stage        2.50336e-23     0.0207233
NatGasGrid      0             125.984
PV             -1.2767e-16      0
;

ampl: 